<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>task_executor package &mdash; task_execution 0.0.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=c1dcd045"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="tasks" href="task_executor.tasks.html" />
    <link rel="prev" title="task_execution API documentation" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            task_execution
          </a>
              <div class="version">
                0.0.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">task_executor package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#abstract-step">abstract_step</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#task_executor.abstract_step.AbstractStep"><code class="docutils literal notranslate"><span class="pre">AbstractStep</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.__call__"><code class="docutils literal notranslate"><span class="pre">AbstractStep.__call__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.ACTION_CANCEL_EVENT"><code class="docutils literal notranslate"><span class="pre">AbstractStep.ACTION_CANCEL_EVENT</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.ACTION_RECV_RESULT_EVENT"><code class="docutils literal notranslate"><span class="pre">AbstractStep.ACTION_RECV_RESULT_EVENT</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.ACTION_SEND_GOAL_EVENT"><code class="docutils literal notranslate"><span class="pre">AbstractStep.ACTION_SEND_GOAL_EVENT</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.EXECUTION_TRACE_TOPIC"><code class="docutils literal notranslate"><span class="pre">AbstractStep.EXECUTION_TRACE_TOPIC</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.RUNNING_GOAL_STATES"><code class="docutils literal notranslate"><span class="pre">AbstractStep.RUNNING_GOAL_STATES</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.SERVICE_CALLED_EVENT"><code class="docutils literal notranslate"><span class="pre">AbstractStep.SERVICE_CALLED_EVENT</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.TOPIC_MESSAGE_EVENT"><code class="docutils literal notranslate"><span class="pre">AbstractStep.TOPIC_MESSAGE_EVENT</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.TOPIC_PUBLISHED_EVENT"><code class="docutils literal notranslate"><span class="pre">AbstractStep.TOPIC_PUBLISHED_EVENT</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.init"><code class="docutils literal notranslate"><span class="pre">AbstractStep.init()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.is_aborted"><code class="docutils literal notranslate"><span class="pre">AbstractStep.is_aborted()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.is_preempted"><code class="docutils literal notranslate"><span class="pre">AbstractStep.is_preempted()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.is_running"><code class="docutils literal notranslate"><span class="pre">AbstractStep.is_running()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.is_succeeded"><code class="docutils literal notranslate"><span class="pre">AbstractStep.is_succeeded()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.notify_action_cancel"><code class="docutils literal notranslate"><span class="pre">AbstractStep.notify_action_cancel()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.notify_action_recv_result"><code class="docutils literal notranslate"><span class="pre">AbstractStep.notify_action_recv_result()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.notify_action_send_goal"><code class="docutils literal notranslate"><span class="pre">AbstractStep.notify_action_send_goal()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.notify_service_called"><code class="docutils literal notranslate"><span class="pre">AbstractStep.notify_service_called()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.notify_topic_message"><code class="docutils literal notranslate"><span class="pre">AbstractStep.notify_topic_message()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.notify_topic_published"><code class="docutils literal notranslate"><span class="pre">AbstractStep.notify_topic_published()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.num_aborts"><code class="docutils literal notranslate"><span class="pre">AbstractStep.num_aborts</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.run"><code class="docutils literal notranslate"><span class="pre">AbstractStep.run()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.set_aborted"><code class="docutils literal notranslate"><span class="pre">AbstractStep.set_aborted()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.set_preempted"><code class="docutils literal notranslate"><span class="pre">AbstractStep.set_preempted()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.set_running"><code class="docutils literal notranslate"><span class="pre">AbstractStep.set_running()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.set_succeeded"><code class="docutils literal notranslate"><span class="pre">AbstractStep.set_succeeded()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.status"><code class="docutils literal notranslate"><span class="pre">AbstractStep.status</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.stop"><code class="docutils literal notranslate"><span class="pre">AbstractStep.stop()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.update_beliefs"><code class="docutils literal notranslate"><span class="pre">AbstractStep.update_beliefs()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tasks">tasks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#task_executor.tasks.TaskContext"><code class="docutils literal notranslate"><span class="pre">TaskContext</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.tasks.TaskContext.__init__"><code class="docutils literal notranslate"><span class="pre">TaskContext.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.tasks.TaskContext.create_from_dict"><code class="docutils literal notranslate"><span class="pre">TaskContext.create_from_dict()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#task_executor.tasks.Task"><code class="docutils literal notranslate"><span class="pre">Task</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.tasks.Task.get_executor"><code class="docutils literal notranslate"><span class="pre">Task.get_executor()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.tasks.Task.get_executor_context"><code class="docutils literal notranslate"><span class="pre">Task.get_executor_context()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.tasks.Task.init"><code class="docutils literal notranslate"><span class="pre">Task.init()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.tasks.Task.notify_aborted"><code class="docutils literal notranslate"><span class="pre">Task.notify_aborted()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.tasks.Task.pprint_variables"><code class="docutils literal notranslate"><span class="pre">Task.pprint_variables()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.tasks.Task.run"><code class="docutils literal notranslate"><span class="pre">Task.run()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.tasks.Task.stop"><code class="docutils literal notranslate"><span class="pre">Task.stop()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-task_executor.actions">actions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#task_executor.actions.Actions"><code class="docutils literal notranslate"><span class="pre">Actions</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.actions.Actions.init"><code class="docutils literal notranslate"><span class="pre">Actions.init()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#task_executor.actions.get_default_actions"><code class="docutils literal notranslate"><span class="pre">get_default_actions()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-task_executor.beliefs">beliefs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#task_executor.beliefs.BeliefsServer"><code class="docutils literal notranslate"><span class="pre">BeliefsServer</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.beliefs.BeliefsServer.EXECUTION_TRACE_TOPIC"><code class="docutils literal notranslate"><span class="pre">BeliefsServer.EXECUTION_TRACE_TOPIC</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.beliefs.BeliefsServer.get_beliefs"><code class="docutils literal notranslate"><span class="pre">BeliefsServer.get_beliefs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.beliefs.BeliefsServer.reload"><code class="docutils literal notranslate"><span class="pre">BeliefsServer.reload()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.beliefs.BeliefsServer.start"><code class="docutils literal notranslate"><span class="pre">BeliefsServer.start()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-task_executor.database">database</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#task_executor.database.DatabaseServer"><code class="docutils literal notranslate"><span class="pre">DatabaseServer</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.database.DatabaseServer.get_semantic_locations"><code class="docutils literal notranslate"><span class="pre">DatabaseServer.get_semantic_locations()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.database.DatabaseServer.get_waypoints"><code class="docutils literal notranslate"><span class="pre">DatabaseServer.get_waypoints()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.database.DatabaseServer.reload"><code class="docutils literal notranslate"><span class="pre">DatabaseServer.reload()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.database.DatabaseServer.start"><code class="docutils literal notranslate"><span class="pre">DatabaseServer.start()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-task_executor.server">task_server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#task_executor.server.TaskServer"><code class="docutils literal notranslate"><span class="pre">TaskServer</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.server.TaskServer.TASK_MONITOR_ACTION_SERVER"><code class="docutils literal notranslate"><span class="pre">TaskServer.TASK_MONITOR_ACTION_SERVER</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.server.TaskServer.execute"><code class="docutils literal notranslate"><span class="pre">TaskServer.execute()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.server.TaskServer.reload"><code class="docutils literal notranslate"><span class="pre">TaskServer.reload()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.server.TaskServer.start"><code class="docutils literal notranslate"><span class="pre">TaskServer.start()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#task_executor.server.TaskServer.stop"><code class="docutils literal notranslate"><span class="pre">TaskServer.stop()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#defined-actions-ops-tasks-and-data">Defined actions, ops, tasks, and data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="task_executor.tasks.html">tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="task_executor.actions.html">actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="task_executor.ops.html">ops</a></li>
<li class="toctree-l3"><a class="reference internal" href="task_executor.data.html">data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#nodes">Nodes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="task_executor.run_action.html">run_action.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="task_executor.run_task.html">run_task.py</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="task_monitor.html">task_monitor package</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">task_execution</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">task_executor package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/task_executor.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="task-executor-package">
<h1><a class="toc-backref" href="#id1" role="doc-backlink">task_executor package</a><a class="headerlink" href="#task-executor-package" title="Permalink to this heading"></a></h1>
<nav class="contents" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#task-executor-package" id="id1">task_executor package</a></p>
<ul>
<li><p><a class="reference internal" href="#abstract-step" id="id2">abstract_step</a></p></li>
<li><p><a class="reference internal" href="#tasks" id="id3">tasks</a></p></li>
<li><p><a class="reference internal" href="#module-task_executor.actions" id="id4">actions</a></p></li>
<li><p><a class="reference internal" href="#module-task_executor.beliefs" id="id5">beliefs</a></p></li>
<li><p><a class="reference internal" href="#module-task_executor.database" id="id6">database</a></p></li>
<li><p><a class="reference internal" href="#module-task_executor.server" id="id7">task_server</a></p></li>
<li><p><a class="reference internal" href="#defined-actions-ops-tasks-and-data" id="id8">Defined actions, ops, tasks, and data</a></p></li>
<li><p><a class="reference internal" href="#nodes" id="id9">Nodes</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="abstract-step">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">abstract_step</a><a class="headerlink" href="#abstract-step" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="task_executor.abstract_step.AbstractStep">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">task_executor.abstract_step.</span></span><span class="sig-name descname"><span class="pre">AbstractStep</span></span><a class="reference internal" href="_modules/task_executor/abstract_step.html#AbstractStep"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.abstract_step.AbstractStep" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>All <code class="docutils literal notranslate"><span class="pre">task</span></code> and <code class="docutils literal notranslate"><span class="pre">action</span></code> steps in a task are derived from this class. The
child classes must override the following functions:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.init" title="task_executor.abstract_step.AbstractStep.init"><code class="xref py py-meth docutils literal notranslate"><span class="pre">init()</span></code></a> - called when connections to the ROS system should be setup</p></li>
<li><p><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.run" title="task_executor.abstract_step.AbstractStep.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a> - a generator method that returns the current state of the         step. As a generator, this method must use <code class="docutils literal notranslate"><span class="pre">yield</span></code> and not <code class="docutils literal notranslate"><span class="pre">return</span></code></p></li>
<li><p><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.stop" title="task_executor.abstract_step.AbstractStep.stop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">stop()</span></code></a> - called when the step must stop executing. Can (and         should) be used to influence the behaviour in <a class="reference internal" href="#task_executor.abstract_step.AbstractStep.run" title="task_executor.abstract_step.AbstractStep.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a></p></li>
</ul>
<p>An object of this class is callable, and as a result there are two methods
of invoking the action or task codified by this class.</p>
<p>Option 1 (recommended)</p>
<blockquote>
<div><p>The preferred method using the generator allows for stopping or preempting
the step that might be executing:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">params</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;arg1&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;arg2&quot;</span><span class="p">:</span> <span class="mi">2</span> <span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">variables</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="o">**</span><span class="n">params</span><span class="p">):</span>
<span class="gp">... </span>    <span class="c1"># Check conditions to stop the run; then stop</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">some_condition</span><span class="p">(</span><span class="n">variables</span><span class="p">):</span>
<span class="gp">... </span>        <span class="n">step</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</pre></div>
</div>
</div></blockquote>
<p>Option 2</p>
<blockquote>
<div><p>The alternate method blocks execution until the step returns either a
success or failure. Although this method is not recommended, it is a
more terse representation:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">params</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;arg1&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;arg2&quot;</span><span class="p">:</span> <span class="mi">2</span> <span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">status</span><span class="p">,</span> <span class="n">variables</span> <span class="o">=</span> <span class="n">step</span><span class="p">(</span><span class="o">**</span><span class="n">params</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<p>When invoking invoking an instance of this class, it is your responsibility
to ensure that all required keyword arguments to <a class="reference internal" href="#task_executor.abstract_step.AbstractStep.run" title="task_executor.abstract_step.AbstractStep.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a> are specified.</p>
<dl class="py method">
<dt class="sig sig-object py" id="task_executor.abstract_step.AbstractStep.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/abstract_step.html#AbstractStep.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.abstract_step.AbstractStep.__call__" title="Permalink to this definition"></a></dt>
<dd><p>Calls the <a class="reference internal" href="#task_executor.abstract_step.AbstractStep.run" title="task_executor.abstract_step.AbstractStep.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a> generator internally and returns this node’s
<a class="reference internal" href="#task_executor.abstract_step.AbstractStep.status" title="task_executor.abstract_step.AbstractStep.status"><code class="xref py py-attr docutils literal notranslate"><span class="pre">status</span></code></a>. This is a blocking call.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>params</strong> (<em>kwargs</em>) – Keyword args that might be relevant to the step</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>status (<code class="docutils literal notranslate"><span class="pre">actionlib_msgs/GoalStatus</span></code>) the step’s                     <a class="reference internal" href="#task_executor.abstract_step.AbstractStep.status" title="task_executor.abstract_step.AbstractStep.status"><code class="xref py py-attr docutils literal notranslate"><span class="pre">status</span></code></a></p></li>
<li><p>variables (dict) the last yielded dictionary from <a class="reference internal" href="#task_executor.abstract_step.AbstractStep.run" title="task_executor.abstract_step.AbstractStep.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a></p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(tuple)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="task_executor.abstract_step.AbstractStep.ACTION_CANCEL_EVENT">
<span class="sig-name descname"><span class="pre">ACTION_CANCEL_EVENT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'task_action_cancel'</span></em><a class="headerlink" href="#task_executor.abstract_step.AbstractStep.ACTION_CANCEL_EVENT" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="task_executor.abstract_step.AbstractStep.ACTION_RECV_RESULT_EVENT">
<span class="sig-name descname"><span class="pre">ACTION_RECV_RESULT_EVENT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'task_action_recv_result'</span></em><a class="headerlink" href="#task_executor.abstract_step.AbstractStep.ACTION_RECV_RESULT_EVENT" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="task_executor.abstract_step.AbstractStep.ACTION_SEND_GOAL_EVENT">
<span class="sig-name descname"><span class="pre">ACTION_SEND_GOAL_EVENT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'task_action_send_goal'</span></em><a class="headerlink" href="#task_executor.abstract_step.AbstractStep.ACTION_SEND_GOAL_EVENT" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="task_executor.abstract_step.AbstractStep.EXECUTION_TRACE_TOPIC">
<span class="sig-name descname"><span class="pre">EXECUTION_TRACE_TOPIC</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'/execution_monitor/trace'</span></em><a class="headerlink" href="#task_executor.abstract_step.AbstractStep.EXECUTION_TRACE_TOPIC" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="task_executor.abstract_step.AbstractStep.RUNNING_GOAL_STATES">
<span class="sig-name descname"><span class="pre">RUNNING_GOAL_STATES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[0,</span> <span class="pre">1,</span> <span class="pre">7,</span> <span class="pre">6]</span></em><a class="headerlink" href="#task_executor.abstract_step.AbstractStep.RUNNING_GOAL_STATES" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="task_executor.abstract_step.AbstractStep.SERVICE_CALLED_EVENT">
<span class="sig-name descname"><span class="pre">SERVICE_CALLED_EVENT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'task_service_called'</span></em><a class="headerlink" href="#task_executor.abstract_step.AbstractStep.SERVICE_CALLED_EVENT" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="task_executor.abstract_step.AbstractStep.TOPIC_MESSAGE_EVENT">
<span class="sig-name descname"><span class="pre">TOPIC_MESSAGE_EVENT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'task_topic_message'</span></em><a class="headerlink" href="#task_executor.abstract_step.AbstractStep.TOPIC_MESSAGE_EVENT" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="task_executor.abstract_step.AbstractStep.TOPIC_PUBLISHED_EVENT">
<span class="sig-name descname"><span class="pre">TOPIC_PUBLISHED_EVENT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'task_topic_published'</span></em><a class="headerlink" href="#task_executor.abstract_step.AbstractStep.TOPIC_PUBLISHED_EVENT" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.abstract_step.AbstractStep.init">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/abstract_step.html#AbstractStep.init"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.abstract_step.AbstractStep.init" title="Permalink to this definition"></a></dt>
<dd><p>Initialize the step. Called when connections to ROS must be setup.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the action or task. Used as an identifier</p></li>
<li><p><strong>args</strong> – Additional args that might be relevant. Missing by default</p></li>
<li><p><strong>kwargs</strong> – Additional args that could be relevant. Missing by default</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.abstract_step.AbstractStep.is_aborted">
<span class="sig-name descname"><span class="pre">is_aborted</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/abstract_step.html#AbstractStep.is_aborted"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.abstract_step.AbstractStep.is_aborted" title="Permalink to this definition"></a></dt>
<dd><p>Checks to see if the current step is running. <code class="docutils literal notranslate"><span class="pre">True</span></code> if <a class="reference internal" href="#task_executor.abstract_step.AbstractStep.run" title="task_executor.abstract_step.AbstractStep.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a>
yielded using <a class="reference internal" href="#task_executor.abstract_step.AbstractStep.set_aborted" title="task_executor.abstract_step.AbstractStep.set_aborted"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_aborted()</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.abstract_step.AbstractStep.is_preempted">
<span class="sig-name descname"><span class="pre">is_preempted</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/abstract_step.html#AbstractStep.is_preempted"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.abstract_step.AbstractStep.is_preempted" title="Permalink to this definition"></a></dt>
<dd><p>Checks to see if the current step was preempted. <code class="docutils literal notranslate"><span class="pre">True</span></code> if <a class="reference internal" href="#task_executor.abstract_step.AbstractStep.run" title="task_executor.abstract_step.AbstractStep.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a>
yielded using <a class="reference internal" href="#task_executor.abstract_step.AbstractStep.set_preempted" title="task_executor.abstract_step.AbstractStep.set_preempted"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_preempted()</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.abstract_step.AbstractStep.is_running">
<span class="sig-name descname"><span class="pre">is_running</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/abstract_step.html#AbstractStep.is_running"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.abstract_step.AbstractStep.is_running" title="Permalink to this definition"></a></dt>
<dd><p>Checks to see if the current step is running. <code class="docutils literal notranslate"><span class="pre">True</span></code> if <a class="reference internal" href="#task_executor.abstract_step.AbstractStep.run" title="task_executor.abstract_step.AbstractStep.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a>
yielded using <a class="reference internal" href="#task_executor.abstract_step.AbstractStep.set_running" title="task_executor.abstract_step.AbstractStep.set_running"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_running()</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.abstract_step.AbstractStep.is_succeeded">
<span class="sig-name descname"><span class="pre">is_succeeded</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/abstract_step.html#AbstractStep.is_succeeded"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.abstract_step.AbstractStep.is_succeeded" title="Permalink to this definition"></a></dt>
<dd><p>Checks to see if the current step is running. <code class="docutils literal notranslate"><span class="pre">True</span></code> if <a class="reference internal" href="#task_executor.abstract_step.AbstractStep.run" title="task_executor.abstract_step.AbstractStep.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a>
yielded using <a class="reference internal" href="#task_executor.abstract_step.AbstractStep.set_succeeded" title="task_executor.abstract_step.AbstractStep.set_succeeded"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_succeeded()</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.abstract_step.AbstractStep.notify_action_cancel">
<span class="sig-name descname"><span class="pre">notify_action_cancel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">action_server_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/abstract_step.html#AbstractStep.notify_action_cancel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.abstract_step.AbstractStep.notify_action_cancel" title="Permalink to this definition"></a></dt>
<dd><p>Updates the event trace when a goal sent to an action server is
cancelled</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.abstract_step.AbstractStep.notify_action_recv_result">
<span class="sig-name descname"><span class="pre">notify_action_recv_result</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">action_server_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">status</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">result</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/abstract_step.html#AbstractStep.notify_action_recv_result"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.abstract_step.AbstractStep.notify_action_recv_result" title="Permalink to this definition"></a></dt>
<dd><p>Updates the event trace when a result is received from an action
server</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.abstract_step.AbstractStep.notify_action_send_goal">
<span class="sig-name descname"><span class="pre">notify_action_send_goal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">action_server_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">goal</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/abstract_step.html#AbstractStep.notify_action_send_goal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.abstract_step.AbstractStep.notify_action_send_goal" title="Permalink to this definition"></a></dt>
<dd><p>Updates the event trace when a goal is sent to an action server</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.abstract_step.AbstractStep.notify_service_called">
<span class="sig-name descname"><span class="pre">notify_service_called</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">service_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/abstract_step.html#AbstractStep.notify_service_called"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.abstract_step.AbstractStep.notify_service_called" title="Permalink to this definition"></a></dt>
<dd><p>Updates the event trace when a service is called</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.abstract_step.AbstractStep.notify_topic_message">
<span class="sig-name descname"><span class="pre">notify_topic_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">topic_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/abstract_step.html#AbstractStep.notify_topic_message"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.abstract_step.AbstractStep.notify_topic_message" title="Permalink to this definition"></a></dt>
<dd><p>Updates the event trace when a message is received on a topic</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.abstract_step.AbstractStep.notify_topic_published">
<span class="sig-name descname"><span class="pre">notify_topic_published</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">topic_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/abstract_step.html#AbstractStep.notify_topic_published"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.abstract_step.AbstractStep.notify_topic_published" title="Permalink to this definition"></a></dt>
<dd><p>Updates the event trace when a message is published on a topic</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="task_executor.abstract_step.AbstractStep.num_aborts">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">num_aborts</span></span><a class="headerlink" href="#task_executor.abstract_step.AbstractStep.num_aborts" title="Permalink to this definition"></a></dt>
<dd><p>The number of times this step has exited with:const:<cite>GoalStatus.ABORTED</cite>
since the last time it exited with a <code class="xref py py-const docutils literal notranslate"><span class="pre">GoalStatus.SUCCEEDED</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.abstract_step.AbstractStep.run">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/abstract_step.html#AbstractStep.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.abstract_step.AbstractStep.run" title="Permalink to this definition"></a></dt>
<dd><p>Run the step. This method returns a generator. So don’t <code class="docutils literal notranslate"><span class="pre">return</span></code>;
instead <code class="docutils literal notranslate"><span class="pre">yield</span></code> a dictionary of values to keep executing. Stop
yielding values or raise <code class="docutils literal notranslate"><span class="pre">StopIteration</span></code> to stop the run.</p>
<p>It is recommended that you use the methods <a class="reference internal" href="#task_executor.abstract_step.AbstractStep.set_running" title="task_executor.abstract_step.AbstractStep.set_running"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_running()</span></code></a>,
<a class="reference internal" href="#task_executor.abstract_step.AbstractStep.set_succeeded" title="task_executor.abstract_step.AbstractStep.set_succeeded"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_succeeded()</span></code></a>, <a class="reference internal" href="#task_executor.abstract_step.AbstractStep.set_preempted" title="task_executor.abstract_step.AbstractStep.set_preempted"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_preempted()</span></code></a>, <a class="reference internal" href="#task_executor.abstract_step.AbstractStep.set_aborted" title="task_executor.abstract_step.AbstractStep.set_aborted"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_aborted()</span></code></a> when
yielding values from this function. The methods ensure that
<a class="reference internal" href="#task_executor.abstract_step.AbstractStep.status" title="task_executor.abstract_step.AbstractStep.status"><code class="xref py py-attr docutils literal notranslate"><span class="pre">status</span></code></a> is set appropriately for this step.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>params</strong> (<em>kwargs</em>) – Keyword args that might be relevant to the step</p>
</dd>
<dt class="field-even">Yields<span class="colon">:</span></dt>
<dd class="field-even"><p><em>variables (dict)</em> – A dictionary of variables as the step executes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.abstract_step.AbstractStep.set_aborted">
<span class="sig-name descname"><span class="pre">set_aborted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/abstract_step.html#AbstractStep.set_aborted"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.abstract_step.AbstractStep.set_aborted" title="Permalink to this definition"></a></dt>
<dd><p>Returns a status denoting that the step has failed</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>context</strong> (<em>kwargs</em>) – Keyword args of the dict that should be yielded
from <a class="reference internal" href="#task_executor.abstract_step.AbstractStep.run" title="task_executor.abstract_step.AbstractStep.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>variables (dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.abstract_step.AbstractStep.set_preempted">
<span class="sig-name descname"><span class="pre">set_preempted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/abstract_step.html#AbstractStep.set_preempted"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.abstract_step.AbstractStep.set_preempted" title="Permalink to this definition"></a></dt>
<dd><p>Returns a status denoting that the step was preempted</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>context</strong> (<em>kwargs</em>) – Keyword args of the dict that should be yielded
from <a class="reference internal" href="#task_executor.abstract_step.AbstractStep.run" title="task_executor.abstract_step.AbstractStep.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>variables (dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.abstract_step.AbstractStep.set_running">
<span class="sig-name descname"><span class="pre">set_running</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/abstract_step.html#AbstractStep.set_running"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.abstract_step.AbstractStep.set_running" title="Permalink to this definition"></a></dt>
<dd><p>Returns a status denoting that the step is still running</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>context</strong> (<em>kwargs</em>) – Keyword args of the dict that should be yielded
from <a class="reference internal" href="#task_executor.abstract_step.AbstractStep.run" title="task_executor.abstract_step.AbstractStep.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>variables (dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.abstract_step.AbstractStep.set_succeeded">
<span class="sig-name descname"><span class="pre">set_succeeded</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/abstract_step.html#AbstractStep.set_succeeded"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.abstract_step.AbstractStep.set_succeeded" title="Permalink to this definition"></a></dt>
<dd><p>Returns a status denoting that the step has succeeded</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>context</strong> (<em>kwargs</em>) – Keyword args of the dict that should be yielded
from <a class="reference internal" href="#task_executor.abstract_step.AbstractStep.run" title="task_executor.abstract_step.AbstractStep.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>variables (dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="task_executor.abstract_step.AbstractStep.status">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">status</span></span><a class="headerlink" href="#task_executor.abstract_step.AbstractStep.status" title="Permalink to this definition"></a></dt>
<dd><p>Current status of this step</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.abstract_step.AbstractStep.stop">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/abstract_step.html#AbstractStep.stop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.abstract_step.AbstractStep.stop" title="Permalink to this definition"></a></dt>
<dd><p>Stop the step. How this is handled by the client is up to the client.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.abstract_step.AbstractStep.update_beliefs">
<span class="sig-name descname"><span class="pre">update_beliefs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">beliefs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/abstract_step.html#AbstractStep.update_beliefs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.abstract_step.AbstractStep.update_beliefs" title="Permalink to this definition"></a></dt>
<dd><p>Updates the event trace with belief updates. Expects lists/tuples</p>
</dd></dl>

</dd></dl>

</section>
<section id="tasks">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">tasks</a><a class="headerlink" href="#tasks" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="task_executor.tasks.TaskContext">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">task_executor.tasks.</span></span><span class="sig-name descname"><span class="pre">TaskContext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">restart_child</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child_context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/tasks.html#TaskContext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.tasks.TaskContext" title="Permalink to this definition"></a></dt>
<dd><p>A structure that’s used to keep track of task state in the event of a
failure. Based on a <code class="docutils literal notranslate"><span class="pre">task_execution_msgs/RequestAssistanceResult</span></code>
resume hint, the <a class="reference internal" href="#task_executor.tasks.Task" title="task_executor.tasks.Task"><code class="xref py py-class docutils literal notranslate"><span class="pre">Task</span></code></a> can use the information in this structure to
decide how to continue execution.</p>
<dl class="py method">
<dt class="sig sig-object py" id="task_executor.tasks.TaskContext.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">restart_child</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child_context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/tasks.html#TaskContext.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.tasks.TaskContext.__init__" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_idx</strong> (<em>int</em>) – Must be &gt;= 0. The step in the task spec from where
execution should start</p></li>
<li><p><strong>restart_child</strong> (<em>bool</em>) – If the current start_idx is a task, should
that be restarted, or should it be resumed from its current
location? If this is <code class="docutils literal notranslate"><span class="pre">True</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">child_context</span></code> must be
<code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>child_context</strong> (<a class="reference internal" href="#task_executor.tasks.TaskContext" title="task_executor.tasks.TaskContext"><em>TaskContext</em></a>) – The context of how the child task
should proceed. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, then the child by default will get
a completely fresh <a class="reference internal" href="#task_executor.tasks.TaskContext" title="task_executor.tasks.TaskContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaskContext</span></code></a> (in <a class="reference internal" href="#task_executor.tasks.Task" title="task_executor.tasks.Task"><code class="xref py py-class docutils literal notranslate"><span class="pre">Task</span></code></a>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.tasks.TaskContext.create_from_dict">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/tasks.html#TaskContext.create_from_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.tasks.TaskContext.create_from_dict" title="Permalink to this definition"></a></dt>
<dd><p>Given a pickled dictionary returned in the context of
<code class="docutils literal notranslate"><span class="pre">task_execution_msgs/RequestAssistanceResult</span></code>, create the
corresponding <a class="reference internal" href="#task_executor.tasks.TaskContext" title="task_executor.tasks.TaskContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaskContext</span></code></a> objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>context_dict</strong> (<em>dict</em>) – the context of a resumption that can be used
to create objects of this class</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>context (<a class="reference internal" href="#task_executor.tasks.TaskContext" title="task_executor.tasks.TaskContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaskContext</span></code></a>)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="task_executor.tasks.Task">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">task_executor.tasks.</span></span><span class="sig-name descname"><span class="pre">Task</span></span><a class="reference internal" href="_modules/task_executor/tasks.html#Task"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.tasks.Task" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#task_executor.abstract_step.AbstractStep" title="task_executor.abstract_step.AbstractStep"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractStep</span></code></a></p>
<p>All tasks defined in <a class="reference internal" href="task_executor.tasks.html"><span class="doc">tasks</span></a> are instantiated as
instances of this class. The behaviour of each task in that YAML file is
defined according to the specification in <code class="file docutils literal notranslate"><span class="pre">task_executor/README.md</span></code>.</p>
<p>Broadly, all tasks in the YAML must include <code class="docutils literal notranslate"><span class="pre">steps</span></code>, and may optionally
include <code class="docutils literal notranslate"><span class="pre">params</span></code> and <code class="docutils literal notranslate"><span class="pre">var</span></code> keys. The contents of those keys define the
behaviour of this class’s <a class="reference internal" href="#task_executor.tasks.Task.run" title="task_executor.tasks.Task.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="task_executor.tasks.Task.get_executor">
<span class="sig-name descname"><span class="pre">get_executor</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/tasks.html#Task.get_executor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.tasks.Task.get_executor" title="Permalink to this definition"></a></dt>
<dd><p>Return a <a class="reference internal" href="#task_executor.abstract_step.AbstractStep" title="task_executor.abstract_step.AbstractStep"><code class="xref py py-class docutils literal notranslate"><span class="pre">task_executor.abstract_step.AbstractStep</span></code></a> that is
either a task in the middle of an op, or an action. This method is used
to provide context to a <code class="docutils literal notranslate"><span class="pre">task_execution_msgs/RequestAssistanceGoal</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.tasks.Task.get_executor_context">
<span class="sig-name descname"><span class="pre">get_executor_context</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/tasks.html#Task.get_executor_context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.tasks.Task.get_executor_context" title="Permalink to this definition"></a></dt>
<dd><p>Return a <code class="docutils literal notranslate"><span class="pre">dict</span></code> of contexts for the task. Similar to
<a class="reference internal" href="#task_executor.tasks.Task.get_executor" title="task_executor.tasks.Task.get_executor"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_executor()</span></code></a>, but instead of simply the ultimate executor in the
task, this method provides the entire call stack to that ultimate
executor. As with <a class="reference internal" href="#task_executor.tasks.Task.get_executor" title="task_executor.tasks.Task.get_executor"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_executor()</span></code></a>, this method is useful for
providing context to a <code class="docutils literal notranslate"><span class="pre">task_execution_msgs/RequestAssistanceGoal</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.tasks.Task.init">
<span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tasks</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">actions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">steps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/tasks.html#Task.init"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.tasks.Task.init" title="Permalink to this definition"></a></dt>
<dd><p>The initialization of the task’s actions, and thereby its connections to
the ROS system</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the task</p></li>
<li><p><strong>tasks</strong> (<em>dict</em>) – A dictionary associating a task name to an instance
of this class. This allows tasks to call each other ad infinitum</p></li>
<li><p><strong>actions</strong> (<a class="reference internal" href="#task_executor.actions.Actions" title="task_executor.actions.Actions"><em>Actions</em></a>) – The actions that are available to this task</p></li>
<li><p><strong>steps</strong> (<em>list</em>) – The steps in this task. Part of YAML specification</p></li>
<li><p><strong>params</strong> (<em>list</em>) – The expected kwargs for this task. Part of YAML
specification</p></li>
<li><p><strong>var</strong> (<em>list</em>) – The expected keywords in this task’s return values.
Part of YAML specification</p></li>
<li><p><strong>kwargs</strong> (<em>kwargs</em>) – Additional args that could be relevant. Missing by
default</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.tasks.Task.notify_aborted">
<span class="sig-name descname"><span class="pre">notify_aborted</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/tasks.html#Task.notify_aborted"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.tasks.Task.notify_aborted" title="Permalink to this definition"></a></dt>
<dd><p>In the event that the task fails because of an exception, we need to
update the status of all the intermediate steps to a status of aborted.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.tasks.Task.pprint_variables">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pprint_variables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variables</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/tasks.html#Task.pprint_variables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.tasks.Task.pprint_variables" title="Permalink to this definition"></a></dt>
<dd><p>Helper function to pretty print the variable context that is returned
from the tasks. Basically stub out all objects that are not basic python
types</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>variables</strong> (<em>dict</em><em>, </em><em>list</em><em>, </em><em>tuple</em>) – A container of variables that form</p></li>
<li><p><strong>action</strong> (<em>the context</em><em> of </em><em>return values from a task or</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A container of variables with all                 values that are not basic python types stubbed out</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(dict, list, tuple)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.tasks.Task.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/tasks.html#Task.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.tasks.Task.run" title="Permalink to this definition"></a></dt>
<dd><p>Run the task by executing its steps in order. This is a generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>context</strong> (<a class="reference internal" href="#task_executor.tasks.TaskContext" title="task_executor.tasks.TaskContext"><em>TaskContext</em></a>) – An object dictating how the steps should be
executed, especially in the event of resuming from a failure</p></li>
<li><p><strong>params</strong> (<em>kwargs</em>) – Keyword arguments to the task. These must match
the keywords specified (if any) in the YAML specification.</p></li>
</ul>
</dd>
<dt class="field-even">Yields<span class="colon">:</span></dt>
<dd class="field-even"><p><em>variables (dict)</em> –     A dictionary of variables in the task’s heap as the task
executes. The keys in the dictionary on the last <code class="docutils literal notranslate"><span class="pre">yield</span></code>
match those specified in the YAML specification.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#task_executor.abstract_step.AbstractStep.run" title="task_executor.abstract_step.AbstractStep.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">task_executor.abstract_step.AbstractStep.run()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.tasks.Task.stop">
<span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/tasks.html#Task.stop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.tasks.Task.stop" title="Permalink to this definition"></a></dt>
<dd><p>Preempt the task</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-task_executor.actions">
<span id="actions"></span><h2><a class="toc-backref" href="#id4" role="doc-backlink">actions</a><a class="headerlink" href="#module-task_executor.actions" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="task_executor.actions.Actions">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">task_executor.actions.</span></span><span class="sig-name descname"><span class="pre">Actions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">registry</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/actions.html#Actions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.actions.Actions" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A registry of actions. It is recommended that you create this object with
<a class="reference internal" href="#task_executor.actions.get_default_actions" title="task_executor.actions.get_default_actions"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_default_actions()</span></code></a>. In order to use the actions, they must be
intialized, which includes connecting to their action servers, services,
etc. You can use the <code class="xref py py-attr docutils literal notranslate"><span class="pre">initialized</span></code> attribute of this object to know
if the actions are initialized or not.</p>
<dl class="py method">
<dt class="sig sig-object py" id="task_executor.actions.Actions.init">
<span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/actions.html#Actions.init"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.actions.Actions.init" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="task_executor.actions.get_default_actions">
<span class="sig-prename descclassname"><span class="pre">task_executor.actions.</span></span><span class="sig-name descname"><span class="pre">get_default_actions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/actions.html#get_default_actions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.actions.get_default_actions" title="Permalink to this definition"></a></dt>
<dd><p>Provides a consistent manner of fetching all the actions that are available
on the robot. This is the preferred manner of getting the actions:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">actions</span> <span class="o">=</span> <span class="n">get_default_actions</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">move_params</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;location&#39;</span><span class="p">:</span> <span class="s1">&#39;waypoints.origin&#39;</span> <span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">actions</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="o">**</span><span class="n">move_params</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The default registry of all the actions that are available</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>(<a class="reference internal" href="#task_executor.actions.Actions" title="task_executor.actions.Actions">Actions</a>)</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-task_executor.beliefs">
<span id="beliefs"></span><h2><a class="toc-backref" href="#id5" role="doc-backlink">beliefs</a><a class="headerlink" href="#module-task_executor.beliefs" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="task_executor.beliefs.BeliefsServer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">task_executor.beliefs.</span></span><span class="sig-name descname"><span class="pre">BeliefsServer</span></span><a class="reference internal" href="_modules/task_executor/beliefs.html#BeliefsServer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.beliefs.BeliefsServer" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This server listens on the execution trace topic for updates to beliefs.
When an update is sent out, it stores the result. A service call can later
fetch the desired belief value</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="task_executor.beliefs.BeliefsServer.EXECUTION_TRACE_TOPIC">
<span class="sig-name descname"><span class="pre">EXECUTION_TRACE_TOPIC</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'/execution_monitor/trace'</span></em><a class="headerlink" href="#task_executor.beliefs.BeliefsServer.EXECUTION_TRACE_TOPIC" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.beliefs.BeliefsServer.get_beliefs">
<span class="sig-name descname"><span class="pre">get_beliefs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">req</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/beliefs.html#BeliefsServer.get_beliefs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.beliefs.BeliefsServer.get_beliefs" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.beliefs.BeliefsServer.reload">
<span class="sig-name descname"><span class="pre">reload</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">req</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/beliefs.html#BeliefsServer.reload"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.beliefs.BeliefsServer.reload" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.beliefs.BeliefsServer.start">
<span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/beliefs.html#BeliefsServer.start"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.beliefs.BeliefsServer.start" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-task_executor.database">
<span id="database"></span><h2><a class="toc-backref" href="#id6" role="doc-backlink">database</a><a class="headerlink" href="#module-task_executor.database" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="task_executor.database.DatabaseServer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">task_executor.database.</span></span><span class="sig-name descname"><span class="pre">DatabaseServer</span></span><a class="reference internal" href="_modules/task_executor/database.html#DatabaseServer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.database.DatabaseServer" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Based on the ROS params that are loaded from a YAML file, this class
provides a set of services that other nodes can use to query waypoints,
arm trajectories, etc. by name</p>
<dl class="py method">
<dt class="sig sig-object py" id="task_executor.database.DatabaseServer.get_semantic_locations">
<span class="sig-name descname"><span class="pre">get_semantic_locations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">req</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/database.html#DatabaseServer.get_semantic_locations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.database.DatabaseServer.get_semantic_locations" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.database.DatabaseServer.get_waypoints">
<span class="sig-name descname"><span class="pre">get_waypoints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">req</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/database.html#DatabaseServer.get_waypoints"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.database.DatabaseServer.get_waypoints" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.database.DatabaseServer.reload">
<span class="sig-name descname"><span class="pre">reload</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">req</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/database.html#DatabaseServer.reload"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.database.DatabaseServer.reload" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.database.DatabaseServer.start">
<span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/database.html#DatabaseServer.start"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.database.DatabaseServer.start" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-task_executor.server">
<span id="task-server"></span><h2><a class="toc-backref" href="#id7" role="doc-backlink">task_server</a><a class="headerlink" href="#module-task_executor.server" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="task_executor.server.TaskServer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">task_executor.server.</span></span><span class="sig-name descname"><span class="pre">TaskServer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connect_monitor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/server.html#TaskServer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.server.TaskServer" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Exposes a <code class="xref py py-class docutils literal notranslate"><span class="pre">actionlib.SimpleActionServer</span></code> in order to execute defined
<a class="reference internal" href="#task_executor.tasks.Task" title="task_executor.tasks.Task"><code class="xref py py-class docutils literal notranslate"><span class="pre">task_executor.tasks.Task</span></code></a> instances.</p>
<p>Given the task to perform, this server yields control, at each step to,
sub-clients. When the clients are done, it moves on to the next step. If the
task fails, the server sends context to a task monitor. The monitor yields
control to a recovery executor, which then returns a signal back up the
stack to this server with hints on how execution should proceed.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="task_executor.server.TaskServer.TASK_MONITOR_ACTION_SERVER">
<span class="sig-name descname"><span class="pre">TASK_MONITOR_ACTION_SERVER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'task_monitor'</span></em><a class="headerlink" href="#task_executor.server.TaskServer.TASK_MONITOR_ACTION_SERVER" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.server.TaskServer.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">goal</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/server.html#TaskServer.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.server.TaskServer.execute" title="Permalink to this definition"></a></dt>
<dd><p>The callback for a goal sent to the action server.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>goal</strong> (<em>task_execution_msgs/ExecuteGoal</em>) – The task to execute</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.server.TaskServer.reload">
<span class="sig-name descname"><span class="pre">reload</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">req</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/server.html#TaskServer.reload"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.server.TaskServer.reload" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.server.TaskServer.start">
<span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/server.html#TaskServer.start"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.server.TaskServer.start" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="task_executor.server.TaskServer.stop">
<span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/task_executor/server.html#TaskServer.stop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#task_executor.server.TaskServer.stop" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="defined-actions-ops-tasks-and-data">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">Defined actions, ops, tasks, and data</a><a class="headerlink" href="#defined-actions-ops-tasks-and-data" title="Permalink to this heading"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="task_executor.tasks.html">tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="task_executor.actions.html">actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="task_executor.ops.html">ops</a></li>
<li class="toctree-l1"><a class="reference internal" href="task_executor.data.html">data</a></li>
</ul>
</div>
</section>
<section id="nodes">
<h2><a class="toc-backref" href="#id9" role="doc-backlink">Nodes</a><a class="headerlink" href="#nodes" title="Permalink to this heading"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>run_action has not been imported to Stretch Robot yet. if you want to run a single action, you will need to create a task for that action for now.</p>
</div>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="task_executor.run_action.html">run_action.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="task_executor.run_task.html">run_task.py</a></li>
</ul>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="task_execution API documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="task_executor.tasks.html" class="btn btn-neutral float-right" title="tasks" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, RAIL.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>